# 前端性能优化的三个维度

分为：静态资源优化、接口访问优化、页面渲染速度优化。难以程度依次递增

<!-- more --> 

> 文章来自掘金，以下是读书笔记[原文链接](https://juejin.im/post/592d0f4ca0bb9f00570f4408)

## 静态资源优化

主要是减少静态资源的请求次数和加载时间。方法如下

* 合并css、js文件，制作雪碧图
* 静态资源cdn分发
* js、css文件压缩，图片压缩，gzip压缩
* 静态资源缓存机制
* 权衡dns的查找

## 访问接口优化

第一级别的静态资源优化做完之后，还会出现两个明显的问题。

1. 静态资源加载完成之后，页面依然还在加载，这是因为数据是通过ajax请求并渲染到页面中。
2. 用户执行一个操作后，需要通过多个接口的串行才能完成，网络差的时候，等待时间较长。

### 首屏直出、同构

**首屏直出**是指在页面初始渲染由服务器端完成，其他操作交互操作使用js完成，**同构**是指前后端使用公用的模板代码。

使用该方案可以解决问题1

### 接口合并

一个交互或者操作需要串行对个接口在业务场景中很常见，使用3g/4g等弱网络等影响因素太大，所以最好是可以将接口合并来提高访问速度

`服务层`直接提供一个合并接口，对于后期的迭代开发影响太大，所以不考虑。

将合并接口的工作交给前端的服务器，这样前端可以根据业务需求进行自由的组合。[基于代理服务的接口合并方案](http://www.jianshu.com/p/07293e4825d0)应运而生。

## 页面渲染速度优化

一般来说，交互不复杂或者DOM操作不是特别大的时候，这个层次的优化是用不上的。

以下是优化的方案

* css放在顶部：优先渲染
* js放在底部：避免阻塞
* 减少DOM元素数量：这个最能体现变成水平了
* img标签要设置高宽：减少重绘重排

另外先在vue和react在虚拟DOM的实现已经提高了渲染速度。

## 总结

优化程度在各个场景中是不同的，那是那句话**提前优化是万恶之源**







